Michael Heller LMSC261 Final

WORKING GHOSTS video broken still
WORKING lyrics follow camera
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lyrics Sync in A-Frame</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <a-scene>
      <!-- Preload Assets -->
      <a-assets>
        <audio
          id="background-music"
          src="https://cdn.glitch.me/aa788fe3-70df-4988-b671-3199409893cc/16%20bit%20OVERHAUL%20MIX%2050%20(Plantlove%20sixth%20new%20mix).wav?v=1733809450620"
        ></audio>
        <img id="video" src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/I%20cant%20escape%20cover.PNG?v=1733809550005" loop="true" preload="auto"></img>
        <a-asset-item id="tree" src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/scene.gltf?v=1733810266033"></a-asset-item>
      </a-assets>

      <!-- Audio Source -->
      <a-sound
        src="#background-music"
        autoplay="false"
        loop="false"
        position="0 2 -5"
      ></a-sound>

      <!-- Environment -->
     
 <a-entity camera position="0 1.6 0" look-controls>
  <a-text
    id="lyrics"
    value=""
    position="-0.02 0.3 -2" 
    align="center"
    color="#ff4234"
    width="4"
    text="font: mozillavr;"
  ></a-text>
   

  <a-entity geometry="primitive: plane; width: 2; height: 1.5"
                material="src: #video"
                position="0 2 -4"></a-entity>



   <a-entity geometry="primitive: box; width: 2.1; height: 1.6; depth: 0.1"
             material="color: #555"
             position="0 2 -4.1"></a-entity> 
    

   
</a-entity>

      <!-- Ghosts -->
      <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/ghosty-1.png%20(1).png?v=1732480230607; transparent: true" 

        position="0 2 -5" 

        animation="property: position; to: 1 3 10; dur: 2000; loop: true; easing: linear" 

    ></a-entity>
      
      <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/ghosty-1.png%20(1).png?v=1732480230607; transparent: true" 

        position="1 1 -3" 

        animation="property: position; to: 1 3 10; dur: 2000; loop: true; easing: linear" 

    ></a-entity>

      <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/ghosty-1.png%20(1).png?v=1732480230607; transparent: true" 

        position="1 1 -6" 

        animation="property: position; to: -4 3 10; dur: 2000; loop: true; easing: linear" 

    ></a-entity>
      
      
  <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/New%20Piskel-1.png.png?v=1733811316195; transparent: true" 

        position="-3 2.5 -4.5" 

         animation="property: position; to: -3.1 2.4 -4.5; dur: 35; loop: true; easing: linear"

    ></a-entity>
      
     <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/New%20Piskel-1.png.png?v=1733811316195; transparent: true" 

        position="3 2.5 -4.5" 

          animation="property: position; to: 3.1 2.5 -4.5; dur: 35; loop: true; easing: linear"

    ></a-entity>
        
       <a-entity 

        geometry="primitive: plane; width: 1; height: 1" 

        material="src: https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/New%20Piskel-1.png%20(1).png?v=1733812156535; transparent: true" 

        position="0 1.5 -4.5" 

          animation="property: position; to: -0.1 1.2 -4.5; dur: 35; loop: true; easing: linear"

    ></a-entity>
      
      
      
      
      
      
      <a-box
        position="0 2.5 -5"
        width="10"
        height="5"
        depth="0.1"
        src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
      ></a-box>
      <a-box
          position="0 2.5 5"
          width="10"
          height="5"
          depth="0.1"
          src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
        ></a-box>
        <!-- Left Wall -->
        <a-box
          position="-5 2.5 0"
          rotation="0 90 0"
          width="10"
          height="5"
          depth="0.1"
          src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
        ></a-box>
        <!-- Right Wall -->
        <a-box
          position="5 2.5 0"
          rotation="0 90 0"
          width="10"
          height="5"
          depth="0.1"
          src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
        ></a-box>
        <!-- Floor -->
        <a-box
          position="0 -0.5 0"
          width="10"
          height="1"
          depth="10"
          src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
        ></a-box>
        <!-- Ceiling -->
        <a-box
          position="0 5.5 0"
          width="10"
          height="1"
          depth="10"
          src="https://cdn.glitch.global/aa788fe3-70df-4988-b671-3199409893cc/Dungeon_brick_wall_purple.png.png?v=1732391747734"
        ></a-box>

  
  




      <!-- Camera -->
      <a-entity camera position="0 1.6 2" look-controls></a-entity>
    </a-scene>

    <script>
      // Lyrics data with timestamps (in seconds)
      const lyrics = [
        { time: 7, text: "I can't escape" },
        { time: 10.5, text: "My head is filled with noise" },
        { time: 14, text: "And I can't relate" },
        { time: 18, text: "I'm dead" },
        { time: 20, text: "I filled the void" }, 
        { time: 22, text: "I can't escape" },
        { time: 25.5, text: "My head is filled with noise" },
        { time: 29.5, text: "And I can't relate" },
        { time: 33, text: "I'm dead" },
        { time: 35.5, text: "I filled the void" }, 
        { time: 37, text: "Get off of me" }, 
        { time: 39.5, text: "I need a break from the cacophony, yeah" }, 
        { time: 44, text: "subtly lost at sea" },
        { time: 47, text: "nowhere near where I really wanna be, yeah" },
        { time: 52, text: "I lie awake" },
        { time: 56, text: "Breathing" },
        { time: 57.5, text: "Accepting fate" },
        { time: 59.5, text: "When I try to wake" },
        { time: 63, text: "From dreaming" },
        { time: 66, text: "The world looks fake" },
        { time: 67.5, text: "I can't escape" },
        { time: 70, text: "My head is filled with noise" },
        { time: 75, text: "And I can't relate" },
        { time: 79, text: "I'm dead" },
        { time: 80.5, text: "I filled the void" }, 
        { time: 82, text: "I can't escape" },
        { time: 86, text: "My head is filled with noise" },
        { time: 90, text: "And I can't relate" },
        { time: 93, text: "I'm dead" },
        { time: 95, text: "I filled the void" }, 
        { time: 97, text: "" } // Clear text after last lyric
      ];
      

      // Get references to the audio element and lyrics text entity
      const audio = document.querySelector("#background-music");
      const lyricsText = document.querySelector("#lyrics");

      // Ensure autoplay permissions are granted
      document.body.addEventListener("click", () => {
        audio.play();
      });

      // Update lyrics based on audio playback time
      function updateLyrics() {
        const currentTime = audio.currentTime;
        const currentLyric = lyrics.find((lyric, index) => {
          const nextLyric = lyrics[index + 1];
          return (
            currentTime >= lyric.time &&
            (!nextLyric || currentTime < nextLyric.time)
          );
        });

        if (currentLyric) {
          lyricsText.setAttribute("value", currentLyric.text);
        }

        if (!audio.paused) {
          requestAnimationFrame(updateLyrics); // Continuously update
        }
      }

      // Start syncing lyrics when audio starts playing
      audio.addEventListener("play", () => {
        updateLyrics();
      });
    </script>
     
  
    
    
    
  </body>
</html>
